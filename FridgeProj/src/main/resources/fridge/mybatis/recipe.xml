<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="fridge.mybatis.recipe">

	<select id="recipe_stock" parameterType="Map" resultType="String">
		SELECT i_name FROM ingrediant WHERE i_cnt = (SELECT MAX(i_cnt) FROM ingrediant) AND id = #{id} 
	</select>
	<select id="recipe_date" parameterType="Map" resultType="String">
		SELECT *
		FROM (SELECT i_name FROM ingrediant WHERE id = #{id} ORDER BY i_enddate ASC) I 
		WHERE ROWNUM = 1
	</select>

</mapper>