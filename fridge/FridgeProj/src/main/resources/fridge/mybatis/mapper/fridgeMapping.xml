<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
  <mapper namespace="fridge.mybatis.mapper.fridgeMapping">
		<!-- 목록(등록일순) -->
		<select id="fridgeList" resultType="IngrediantDTO">
			SELECT * FROM ingrediant ORDER BY i_postdate desc
		</select>	
		<!-- 입력 -->
		<insert id="fridgeWrite">
			INSERT INTO ingrediant (i_no,id,i_name,i_cnt,i_enddate,i_postdate)
			VALUES(SEQ_ingrediant_i_no.NEXTVAL,#{id},#{i_name},#{i_cnt},#{i_enddate},SYSDATE)
		</insert>
		<!-- 상세보기 -->
		<select id="detail" resultType="IngrediantDTO">
			SELECT i_no,i_name,i_cnt,i_enddate,i_postdate
			FROM ingrediant WHERE i_no=#{i_no}
		</select>
		<!-- 수정 -->
		<update id="fridgeEdit" parameterType="IngrediantDTO">
			UPDATE ingrediant SET i_name=#{i_name}, i_cnt=#{i_cnt}, i_enddate=#{i_enddate}
			WHERE i_no=#{i_no}
		</update>
		<!-- 삭제 -->
		 <delete id="ingreDelete">
			DELETE ingrediant WHERE i_no=#{i_no}
		</delete>
		<!-- 유통기한 임박순 정렬 -->
		<select id="sortByEnd" resultType="IngrediantDTO">
			SELECT * FROM ingrediant ORDER BY i_enddate ASC
		</select>
	</mapper>